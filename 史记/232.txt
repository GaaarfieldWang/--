西南夷的君长有几十个，其中夜郎国势力最大；夜郎西部的靡莫之夷也有几十个，其中滇国势力最大；滇以北的君长也有几十个，其中邛都的势力最大：这些夷人都将头发盘在头顶梳成椎形的髻，以耕种为生，有聚居的城池与村庄。他们以外的地方，西面从同师往东，直到北面的楪榆，称为嶲和昆明，这些夷国的百姓都把头发编起来，过着游牧生活，没有固定的居所，也没有君长领导，他们的土地方圆数千里。从嶲往东北，那里的君长有几十个，其中徙与筰的君长是势力最强大的；从筰都往东北，那里的君长也有几十个，其中冉、駹的君长势力最强盛。他们的风俗习惯是有的是定居的土著，有的则是迁徙不定的部落，全在蜀郡的西部。从冉、駹往东北，那些地方的君长也多达几十个，其中白马的君长是势力最强大的，全是氐族的同类。这些全是巴郡、蜀郡西南之外的蛮夷。

当初楚威王在位时，曾派遣将军庄蹻率军沿长江逆流而上，攻克了巴郡、黔中郡以西的地区。庄蹻，是已故的楚庄王的后代。庄蹻到达滇池，此地方圆三百里，滇池旁边是几千里平坦、肥沃富饶的田地，庄蹻依靠军队的威势平定了那里，将其划归楚国地盘。庄蹻正打算回楚国向楚王禀报，恰逢秦国夺取了楚国巴郡、黔中郡，前往楚国的道路被阻塞无法通行，所以他又返了回来，他凭借自己的军队在滇池称王，并改变了自己的服饰，遵从那里的风俗习惯，统治当地百姓。秦灭六国的时候，常頞开拓领地同时开通了五尺道，并在这些国家设置官吏。十几年后，秦朝灭亡。等到汉朝兴起，将这些国家全都舍弃了，并且关闭了原来蜀郡的边界。巴郡与蜀郡民众中有的人偷偷出塞做生意，换取筰都的马、僰族的僮仆与牦牛，因此巴郡与蜀郡殷实富足。

建元六年（前135年），大行王恢袭击东越，东越人把东越王郢杀死以回报汉朝。王恢凭借军队的威势派番阳令唐蒙将汉朝出兵的意图明确告诉给南越。南越把蜀郡盛产的枸酱拿给唐蒙吃，唐蒙询问枸酱是从何处得来的，南越人说：“是从西北边的牂柯而来，牂柯江有几里宽，流经番禺城向下游流去。”唐蒙回到长安，问蜀郡商人，商人说：“唯独蜀郡这个地方出产枸酱，当地很多人都拿着它偷偷到夜郎去卖。夜郎临近牂柯江，江面宽数百步，足以行船。南越人想用财物使夜郎归属于自己，然而虽然南越的势力向西到达了同师，但也无法像驱使臣民一样役使夜郎。”唐蒙于是便上书劝皇上说：“南越王乘坐有黄屋车并且树起了左纛旗，其拥有的土地从东到西多达一万多里，名义上是个外臣，实际上却是一州的君主。如今从长沙、豫章郡前去南越，大部分水路都被阻塞了，难以通行。我私下听说夜郎所拥有的精锐士兵，多达十多万，乘船顺牂柯江而下，趁南越没有防备就出兵攻击，这是征服南越的一条奇计。如果真的能以汉朝的强大，巴郡、蜀郡的富庶，打通前往夜郎的道路，在那里设置官吏，是非常容易的。”皇上采纳了唐蒙的这个建议，于是任命唐蒙为郎中将，带领一千多名将士，以及负责粮食、辎重的人员一万多人，从巴蜀筰关进入夜郎，与夜郎侯多同见面。唐蒙给了他很丰厚的赏赐，并用汉王朝的威武与恩德晓谕他，约定这里设置官吏，让他的儿子担任县令。夜郎周围的小城邑的百姓都贪图汉朝的丝织品，认为通往汉朝的道路艰险难行，始终无法占领，于是就暂时接受了与唐蒙的约定。唐蒙返回禀报朝廷，于是朝廷将夜郎设为犍为郡。调遣巴郡与蜀郡的士兵开信道路，从僰一直修到牂柯江。蜀郡人司马相如也进言说西夷的邛、筰也可以设置为郡。于是皇上派司马相如以郎中将的身份前去西夷，告谕西夷人，汉朝会像对待南夷一样对待他们，为他们设置了一个都尉，十多个县，归属于蜀郡。

在这个时期，巴、蜀、汉中、广汉四个郡通往西南夷的道路上，戍边的士兵、运送物资与军粮的人往来不断。几年之后，道路仍然没有修通，士兵因疲惫、饥饿、遭受潮湿，死了很多；西南夷又多次发动叛乱，汉朝多次出兵去平定，消耗了人力、物力，却仍然毫无效果。皇上对此事很忧虑，于是派公孙弘前去那里调查访问。公孙弘回来禀告皇上说开发西南夷很不方便。等到公孙弘担任御史大夫时，当时汉朝正在修建朔方郡城，以便据守黄河驱逐匈奴，公孙弘趁机多次向皇上进言说开通西南夷的害处，希望可以暂且停止开发活动，集中力量对付匈奴。皇上于是停止了对西南夷的开发，仅在南夷的夜郎设置两个县与一个都尉，命令犍为郡要保全自己并逐步完善自己的郡县体制。

到了元狩元年（前122年），博望侯张骞出使大夏国返回以后，说他在大夏国到时候见到了蜀郡出产的布帛，邛莱山出产的竹杖，派人询问这些东西是从哪里而来的，回答说“这些东西来自于东南方的身毒国，那里距离这约有几千里远，可以与蜀郡的商人做买卖。”有人听说邛莱山以西约二千里远的确有个身毒国。张骞因此趁机极力进言称大夏在汉朝的西南方向，十分仰慕中国，正担忧匈奴会阻塞他们通往中原的道路，假如真能开通蜀地的道路，取道身毒国既方便又近，这对汉朝有百利而无一害。于是天子派遣王然于、柏始昌、吕越人等人，走小路从西夷的西边出发，去寻找身毒国。他们来到了滇国，滇王尝羌把他们留了下来，并派出十多批人帮他们寻求西去的道路。一年之后，道路全被昆明国所封闭，不能通往身毒国。

滇王对汉朝使者说：“汉朝与我们滇国相比哪个大？”汉朝使者到达夜郎，夜郎侯问了同样的问题。因为道路不通的缘故，他们都认为自己是一州之主，不知道汉朝的辽阔广大。使者回到汉朝后，因此极力进言称滇是个大国，值得让他们亲近、归从于汉朝。天子因此而留意此事。

等到南越叛变时，皇上派驰义侯以犍为郡的名义发动南夷军队。且兰君担心自己的军队走远后，周围的国家会趁机掠夺国中的老弱百姓，于是就与他的部众一起反叛了，杀死了汉朝使者以及犍为郡的太守。汉朝于是派遣原本去平定南越的八位校尉，带领巴郡与蜀郡的犯人，前去攻打且兰君。恰巧南越已被打败，汉朝的八位校尉还没有攻下且兰，就率军撤了回来，在回军途中顺便灭了头兰。头兰，是常常阻塞滇国与汉朝交通要塞的国家。平定头兰之后，接着又平定了南夷，并在南夷设置了牂柯郡。夜郎侯起初倚赖着南越，南越灭亡后，正逢汉军返回诛杀反叛的人，夜郎于是进京朝见天子。皇上封他为夜郎王。

南越被攻破之后，以及汉朝诛杀且兰、邛君以及筰侯，冉、駹都很震惊恐惧，于是向汉朝请求称臣，为他们设置官吏。汉朝于是把邛都改为越西郡，把筰都改为沈犁郡，冉駹改为汶山郡，广汉西边的白马改为武都郡。

皇上派王然于凭借消灭南越以及杀死南夷君长的兵威晓谕滇王要进京朝见。滇王，拥有数万人的军队，在他国家的东北方有劳浸与靡莫，与滇王同姓，他们之间互相依仗、扶持，不肯听从劝谕。劳浸与靡莫多次冒犯汉朝使者与官兵。元封二年（前109年），天子调遣巴、蜀两郡的军队消灭了劳浸与靡莫，大军逼临滇国。由于滇王从开始对汉朝怀有善意，所以没被杀死。滇王名为离难，率领举国上下投降了汉朝，请求汉朝为他们设置官吏，并进京朝见。于是汉朝把滇国设为益州郡，赐给滇王王印，让他仍旧统治他的子民。

西南夷的君长有几百个，唯独夜郎与滇的君长得到了汉朝授予的王印。滇是一个小国，最受汉朝的爱护。

太史公说：难道楚国的先祖拥有上天赐予的福禄么？在周朝时，楚国的先祖鬻熊做过周文王的老师，被封到楚地。等到周王室衰败时，楚国的土地号称方圆五千里。秦国把各诸侯国都灭掉了，唯独楚国的子孙还有滇王在世。汉朝灭掉西南夷，大多数蛮夷国都灭亡了，唯有滇王仍旧深受汉朝的尊宠。然而平定南夷的原由，则是在番禺看见了枸酱，在大夏看见了邛竹杖。后来西夷被翦灭，分成西、南两方，最终被汉朝设为七个郡。